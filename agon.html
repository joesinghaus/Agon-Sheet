<div class="preload"></div><div><input type="hidden" name="attr_advantage_bond_support_translated" value="Advantage/Bond/Support"/><input type="hidden" name="attr_bonusdice_query" value="?{Other dice (Advantage, Bond Dice, or Support), e.g. 1d8 + 1d8 + 1d6|0}"/><input type="hidden" name="attr_divine_favor_query" value="?{Spend Divine Favor|0}"/><input type="hidden" name="attr_divine_favor_translated" value="Divine Favor"/><input type="hidden" name="attr_epithet_and_name_query" value="?{Epithet die|None, |@{epithet}, + @{epithet_die}[Epithet]}"/><input type="hidden" name="attr_name_translated" value="Name"/><input type="hidden" name="attr_obstacle_query" value="?{Obstacle|0}"/><input type="hidden" name="attr_arts_oration_extra_domain_query" value="?{Add another Domain (spend Pathos)|No, |Blood &amp; Valor, + @{blood_valor_die}[Blood &amp; Valor]|Craft &amp; Reason, + @{craft_reason_die}[Craft &amp; Reason]|Resolve &amp; Spirit, + @{resolve_spirit_die}[Resolve &amp; Spirit]}"/><input type="hidden" name="attr_arts_oration_translated" value="Arts &amp; Oration"/><input type="hidden" name="attr_blood_valor_extra_domain_query" value="?{Add another Domain (spend Pathos)|No, |Arts &amp; Oration, + @{arts_oration_die}[Arts &amp; Oration]|Craft &amp; Reason, + @{craft_reason_die}[Craft &amp; Reason]|Resolve &amp; Spirit, + @{resolve_spirit_die}[Resolve &amp; Spirit]}"/><input type="hidden" name="attr_blood_valor_translated" value="Blood &amp; Valor"/><input type="hidden" name="attr_craft_reason_extra_domain_query" value="?{Add another Domain (spend Pathos)|No, |Arts &amp; Oration, + @{arts_oration_die}[Arts &amp; Oration]|Blood &amp; Valor, + @{blood_valor_die}[Blood &amp; Valor]|Resolve &amp; Spirit, + @{resolve_spirit_die}[Resolve &amp; Spirit]}"/><input type="hidden" name="attr_craft_reason_translated" value="Craft &amp; Reason"/><input type="hidden" name="attr_resolve_spirit_extra_domain_query" value="?{Add another Domain (spend Pathos)|No, |Arts &amp; Oration, + @{arts_oration_die}[Arts &amp; Oration]|Blood &amp; Valor, + @{blood_valor_die}[Blood &amp; Valor]|Craft &amp; Reason, + @{craft_reason_die}[Craft &amp; Reason]}"/><input type="hidden" name="attr_resolve_spirit_translated" value="Resolve &amp; Spirit"/></div><div class="container"><div class="sheet-type-character"><div class="logo"></div><div class="title-vertical glory"><div class="title" data-i18n="glory"></div><div class="content"><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_0" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_0" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_0" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_0" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_0" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_0" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_1" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_1" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_1" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_1" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_1" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_1" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_2" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_2" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_2" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_2" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_2" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_2" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_3" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_3" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_3" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_3" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_3" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_3" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_4" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_4" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_4" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_4" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_4" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_4" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_5" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_5" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_5" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_5" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_5" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_5" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_6" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_6" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_6" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_6" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_6" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_6" value="5"/><span></span></div><div class="box"><input class="hidden fakeradio" type="checkbox" name="attr_glory_7" value="0" checked="checked"/><input class="squarebox fakeradio" type="checkbox" name="attr_glory_7" value="1"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_7" value="2"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_7" value="3"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_7" value="4"/><span></span><div class="floatingbar"></div><input class="squarebox fakeradio" type="checkbox" name="attr_glory_7" value="5"/><span></span></div></div></div><div class="title-vertical namebox"><div class="title" data-i18n="name"></div><div class="content"><label><input class="squarebox" type="checkbox" name="attr_namebox_40" value="1"/><span></span><span>40</span></label><label><input class="squarebox" type="checkbox" name="attr_namebox_80" value="1"/><span></span><span>80 (D8)</span></label><label><input class="squarebox" type="checkbox" name="attr_namebox_120" value="1"/><span></span><span>120 (D10)</span></label><label><input class="squarebox" type="checkbox" name="attr_namebox_160" value="1"/><span></span><span>160</span></label><label><input class="squarebox" type="checkbox" name="attr_namebox_200" value="1"/><span></span><span>200</span></label><label><input class="squarebox" type="checkbox" name="attr_namebox_240" value="1"/><span></span><span>240 (D12)</span></label></div></div><div class="info"><div class="infobox"><div class="title" data-i18n="epithet"></div><div class="content epithet"><div class="auto-expand"><span name="attr_epithet"></span><textarea spellcheck="false" name="attr_epithet"></textarea></div><select name="attr_epithet_die"><option value="d6">d6</option><option value="d8">d8</option><option value="d10">d10</option></select></div></div><input class="hider" type="hidden" name="attr_boons_4_check_1" value="0"/><div class="infobox"><div class="title" data-i18n="epithet"></div><div class="content epithet"><div class="auto-expand"><span name="attr_epithet_2"></span><textarea spellcheck="false" name="attr_epithet_2"></textarea></div></div></div><div class="infobox"><div class="title" data-i18n="name"></div><div class="content character-name"><input type="text" spellcheck="false" name="attr_character_name"/><select name="attr_name_die"><option value="d6">d6</option><option value="d8">d8</option><option value="d10">d10</option><option value="d12">d12</option></select></div></div><div class="infobox"><div class="title" data-i18n="lineage_pronouns"></div><div class="content lineage-pronouns"><div class="auto-expand"><span name="attr_lineage_pronouns"></span><textarea spellcheck="false" name="attr_lineage_pronouns"></textarea></div></div></div><div class="infobox"><div class="title" data-i18n="honored_god"></div><div class="content honored-god"><div class="auto-expand"><span name="attr_honored_god"></span><textarea spellcheck="false" name="attr_honored_god"></textarea></div><label><input class="diamondbox" type="checkbox" name="attr_god_strength_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_god_strength_2" value="1"/><span></span></label></div></div></div><div class="domains"><div class="title" data-i18n="domains"></div><div class="domain"><button class="domain-button-arts_oration" data-i18n="arts_oration_br" name="roll_arts_oration" type="roll" value="&amp;{template:agon-hero} {{name=@{character_name}}} {{type=arts_oration}} {{obstacle=[[@{target_query}]]}} {{@{epithet_and_name_query} + @{arts_oration_die}[@{arts_oration_translated}] @{arts_oration_extra_domain_query} + @{bonusdice_query}[@{advantage_bond_support_translated}]}k2 + @{divine_favor_query}d4k1[@{divine_favor_translated}] ]]}}"></button><select name="attr_arts_oration_die"><option value="d6">d6</option><option value="d8">d8</option><option value="d10">d10</option></select></div><div class="domain"><button class="domain-button-blood_valor" data-i18n="blood_valor_br" name="roll_blood_valor" type="roll" value="&amp;{template:agon-hero} {{name=@{character_name}}} {{type=blood_valor}} {{obstacle=[[@{target_query}]]}} {{@{epithet_and_name_query} + @{blood_valor_die}[@{blood_valor_translated}] @{blood_valor_extra_domain_query} + @{bonusdice_query}[@{advantage_bond_support_translated}]}k2 + @{divine_favor_query}d4k1[@{divine_favor_translated}] ]]}}"></button><select name="attr_blood_valor_die"><option value="d6">d6</option><option value="d8">d8</option><option value="d10">d10</option></select></div><div class="domain"><button class="domain-button-craft_reason" data-i18n="craft_reason_br" name="roll_craft_reason" type="roll" value="&amp;{template:agon-hero} {{name=@{character_name}}} {{type=craft_reason}} {{obstacle=[[@{target_query}]]}} {{@{epithet_and_name_query} + @{craft_reason_die}[@{craft_reason_translated}] @{craft_reason_extra_domain_query} + @{bonusdice_query}[@{advantage_bond_support_translated}]}k2 + @{divine_favor_query}d4k1[@{divine_favor_translated}] ]]}}"></button><select name="attr_craft_reason_die"><option value="d6">d6</option><option value="d8">d8</option><option value="d10">d10</option></select></div><div class="domain"><button class="domain-button-resolve_spirit" data-i18n="resolve_spirit_br" name="roll_resolve_spirit" type="roll" value="&amp;{template:agon-hero} {{name=@{character_name}}} {{type=resolve_spirit}} {{obstacle=[[@{target_query}]]}} {{@{epithet_and_name_query} + @{resolve_spirit_die}[@{resolve_spirit_translated}] @{resolve_spirit_extra_domain_query} + @{bonusdice_query}[@{advantage_bond_support_translated}]}k2 + @{divine_favor_query}d4k1[@{divine_favor_translated}] ]]}}"></button><select name="attr_resolve_spirit_die"><option value="d6">d6</option><option value="d8">d8</option><option value="d10">d10</option></select></div></div><div class="title-vertical favors"><div class="title" data-i18n="divine_favor"></div><div class="content"><div class="favorbox"><div class="label" data-i18n="authority"></div><div data-i18n="zeus"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_authority_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_authority_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="beauty"></div><div data-i18n="aphrodite"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_beauty_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_beauty_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="conviction"></div><div data-i18n="demeter"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_conviction_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_conviction_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="cunning"></div><div data-i18n="hera"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_cunning_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_cunning_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="daring"></div><div data-i18n="hermes"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_daring_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_daring_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="ferocity"></div><div data-i18n="ares"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_ferocity_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_ferocity_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="fortitude"></div><div data-i18n="poseidon"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_fortitude_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_fortitude_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="ingenuity"></div><div data-i18n="hephaistos"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_ingenuity_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_ingenuity_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="insight"></div><div data-i18n="hekate"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_insight_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_insight_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="knowledge"></div><div data-i18n="apollo"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_knowledge_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_knowledge_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="precision"></div><div data-i18n="artemis"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_precision_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_precision_2" value="1"/><span></span></label></div><div class="favorbox"><div class="label" data-i18n="wisdom"></div><div data-i18n="athena"></div><label><input class="diamondbox" type="checkbox" name="attr_favor_wisdom_1" value="1"/><span></span></label><label><input class="diamondbox" type="checkbox" name="attr_favor_wisdom_2" value="1"/><span></span></label></div></div></div><div class="title-vertical style-notes"><div class="title" data-i18n="style_notes"></div><div class="content"><div class="auto-expand notes"><span name="attr_style_notes"></span><textarea spellcheck="false" name="attr_style_notes"></textarea></div></div></div><div class="title-vertical recite"><div class="title" data-i18n="recite_your_deeds"></div><div class="content"><div data-i18n="recite_top"></div><div class="recite-box"><div class="title" data-i18n="arts_oration"></div><ul data-i18n="recite_arts_oration"></ul></div><div class="recite-box"><div class="title" data-i18n="blood_valor"></div><ul data-i18n="recite_blood_valor"></ul></div><div class="recite-box"><div class="title" data-i18n="craft_reason"></div><ul data-i18n="recite_craft_reason"></ul></div><div class="recite-box"><div class="title" data-i18n="resolve_spirit"></div><ul data-i18n="recite_resolve_spirit"></ul></div><div data-i18n="recite_bottom"></div></div></div><div class="pathos-bonds"><div class="pathos-fate"><div class="title" data-i18n="pathos"></div><input class="hidden fakeradio" type="checkbox" name="attr_pathos" value="0" checked="checked"/><input class="circlebox fakeradio" type="checkbox" name="attr_pathos" value="1"/><span></span><div class="floating-vert-bar"></div><input class="circlebox fakeradio" type="checkbox" name="attr_pathos" value="2"/><span></span><div class="floating-vert-bar"></div><input class="circlebox fakeradio" type="checkbox" name="attr_pathos" value="3"/><span></span><div class="floating-vert-bar"></div><input class="circlebox fakeradio" type="checkbox" name="attr_pathos" value="4"/><span></span><div class="floating-vert-bar"></div><input class="circlebox fakeradio" type="checkbox" name="attr_pathos" value="5"/><span></span><div class="floating-vert-bar"></div><div class="agony" data-i18n="agony"></div><div class="floating-vert-bar"></div><input class="circlebox fakeradio" type="checkbox" name="attr_pathos" value="6"/><span></span><div class="floating-vert-bar"></div><div class="fate" data-i18n="fate"></div><div class="floating-vert-bar"></div><input class="hidden fakeradio2" type="checkbox" name="attr_fate" value="0" checked="checked"/><input class="squarebox fakeradio2 dot" type="checkbox" name="attr_fate" value="1"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="2"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="3"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2 dot" type="checkbox" name="attr_fate" value="4"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="5"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="6"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="7"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2 dot" type="checkbox" name="attr_fate" value="8"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="9"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="10"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="11"/><span></span><div class="floating-vert-bar"></div><input class="squarebox fakeradio2" type="checkbox" name="attr_fate" value="12"/><span></span></div><div class="bonds"><div class="title" data-i18n="bonds"></div><fieldset class="repeating_bonds"><input class="bond-number" type="number" name="attr_bond_number" value="0"/><input class="bond-name" type="text" spellcheck="false" name="attr_bond_name" data-i18n="bond"/></fieldset><div class="bond-uses"><div class="top" data-i18n="bond_use_top"></div><div class="bond-use" data-i18n="bond_use_1"></div><div class="bond-use" data-i18n="bond_use_2"></div><div class="bond-use" data-i18n="bond_use_3"></div></div></div></div><div class="great-deeds-boons"><div class="great-deeds"><div class="title" data-i18n="great_deeds_and_trophies"></div><fieldset class="repeating_deeds"><input class="squarebox" type="checkbox" name="attr_deed_check" value="1"/><span></span><div class="auto-expand deed-name"><span name="attr_deed_name"></span><textarea spellcheck="false" name="attr_deed_name" data-i18n-placeholder="great_deed"></textarea></div></fieldset></div><div class="boons"><div class="title" data-i18n="boons"></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_1_check_1" value="1"/><span></span><div data-i18n="boons_1"></div></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_2_check_1" value="1"/><span></span><input class="squarebox" type="checkbox" name="attr_boons_2_check_2" value="1"/><span></span><div data-i18n="boons_2"></div></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_3_check_1" value="1"/><span></span><div data-i18n="boons_3"></div></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_4_check_1" value="1"/><span></span><div data-i18n="boons_4"></div></div><div class="divider"></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_5_check_1" value="1"/><span></span><div data-i18n="boons_5"></div></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_6_check_1" value="1"/><span></span><div data-i18n="boons_6"></div></div><div class="boon"><input class="squarebox" type="checkbox" name="attr_boons_7_check_1" value="1"/><span></span><div data-i18n="boons_7"></div></div></div></div><div class="virtues"><div class="title" data-i18n="virtues"></div><div class="virtue"><input class="value" type="number" name="attr_acumen" value="0"/><div class="title" data-i18n="acumen"> </div></div><div class="virtue"><input class="value" type="number" name="attr_courage" value="0"/><div class="title" data-i18n="courage"> </div></div><div class="virtue"><input class="value" type="number" name="attr_grace" value="0"/><div class="title" data-i18n="grace"> </div></div><div class="virtue"><input class="value" type="number" name="attr_passion" value="0"/><div class="title" data-i18n="passion"> </div></div></div></div></div>
<rolltemplate class="sheet-rolltemplate-agon-hero">{{#rollGreater() obstacle roll}}<div class="suffers"></div>{{/rollGreater() obstacle roll}} {{#^rollGreater() obstacle roll}}<div class="prevails"></div>{{/^rollGreater() obstacle roll}}<div class="holder"><div class="type type-{{type}}"></div><div class="target">{{obstacle}}</div><div class="result">{{roll}}</div><div class="name">{{epithet}} {{name}}</div>{{#rollGreater() obstacle roll}}<div class="description" data-i18n="roll_suffers"></div>{{/rollGreater() obstacle roll}} {{#^rollGreater() obstacle roll}}<div class="description" data-i18n="roll_prevails"></div>{{/^rollGreater() obstacle roll}}</div></rolltemplate>
<script type="text/worker">(function () {"use strict";function boolToFlag(t){return t?"1":"0"}function getTranslation(t){return getTranslationByKey(t)||`TRANSLATION_KEY_UNDEFINED: ${t}`}function fillRepeatingSectionFromData(t,e,r){const n=[];e.map(e=>{let r;for(;!r;){let t=generateRowID();n.includes(t)||(r=t,n.push(r))}return Object.keys(e).reduce((n,i)=>(n[`repeating_${t}_${r}_${i}`]=e[i],n),{})}).forEach(t=>r.setAttrs(t))}function fillEmptyRows(t,e,r){fillRepeatingSectionFromData(t,[...Array(e).keys()].map(()=>({autogen:"1"})),r)}class AttributeSetter{constructor(t){this._sourceAttrs=t,this._targetAttrs={}}setAttr(t,e){this._sourceAttrs[t]=String(e),this._targetAttrs[t]=String(e)}setAttrs(t){for(let e in t)this.setAttr(e,t[e])}getAttr(t){return this._sourceAttrs[t]}finalize(t){getAttrs(Object.keys(this._targetAttrs),e=>{const r={};for(let t in this._targetAttrs)this._targetAttrs[t]!=e[t]&&(r[t]=this._targetAttrs[t]);setAttrs(r,{silent:!0},t)})}}const attributeHandler={get:function(t,e){return t.getAttr(e)},set:function(t,e,r){return t.setAttr(e,r),!0}};function getSetAttrs(t,e,r){getAttrs(t,t=>{const n=new AttributeSetter(t);e(new Proxy(n,attributeHandler),n),n.finalize(r)})}function register(t,e,r){"string"==typeof t&&(t=[t]),console.log(`Registering ${r?`'${r}'`:"handler"} for attributes: ${t.join(", ")}`),on(t.map(t=>`change:${t}`).join(" "),t=>{console.log(`Triggering ${r?`'${r}'`:"handler"} for attribute: ${t.sourceAttribute}.`),e(t)})}function registerOpened(t,e){console.log(`Registering ${e?`'${e}'`:"handler"} for sheet opening.`),on("sheet:opened",()=>{console.log(`Triggering ${e?`'${e}'`:"handler"} for sheet opening.`),t()})}function registerButton(t,e,r){console.log(`Registering ${r?`'${r}'`:"handler"} for button: ${t}}.`);const n=_.throttle(n=>{console.log(`Triggering ${r?`'${r}'`:"handler"} for button: ${t}}.`),e(n)},200,{trailing:!1});on(`clicked:${t}`,n)}const kSheetVersion="1.0",kBrace="&#125;",kDoubleBrace=kBrace+kBrace,kExtraEpithetField="boons_4_check_1",kPathosGivesTwoDiceField="boons_6_check_1",kDomains=["arts_oration","blood_valor","craft_reason","resolve_spirit"];function query(t,e){return`?{${getTranslation(t)}|${e.join("|")}}`}function performFirstTimeSetup(t){fillEmptyRows("bonds",8,t),fillEmptyRows("deeds",5,t)}function setEpithetQuery(t){const e="roll=[[{@{name_die}[@{name_translated}]",r=[`${getTranslation("none")},${e}`,`@{epithet},epithet=@{epithet}${kDoubleBrace} {{${e} + @{epithet_die}[${getTranslation("epithet")}]`];"1"===t[kExtraEpithetField]&&r.push(...[`@{epithet_2},epithet=@{epithet_2}${kDoubleBrace} {{${e} + @{epithet_die}[${getTranslation("epithet")}]`,`@{epithet} ${getTranslation("and")} @{epithet_2},epithet=@{epithet} ${getTranslation("and")} @{epithet_2}${kDoubleBrace} {{${e} + 2@{epithet_die}[${getTranslation("epithet")}]`]),t.epithet_and_name_query=query("epithet_dice_query",r)}function setupDomainQueries(t){const e="1"===t[kPathosGivesTwoDiceField]?"2":"";kDomains.forEach(r=>{const n=[`${getTranslation("no")}, `,...kDomains.filter(t=>t!=r).map(t=>`${getTranslation(t)}, + ${e}@{${t}_die}[${getTranslation(t)}]`)];t[`${r}_extra_domain_query`]=query("add_domain_spend_pathos",n),t[`${r}_translated`]=getTranslation(r)})}register(kPathosGivesTwoDiceField,function(){getSetAttrs([kPathosGivesTwoDiceField],setupDomainQueries)},"Handle giving two dice for extra domain"),register(kExtraEpithetField,function(){getSetAttrs([kExtraEpithetField],setEpithetQuery)},"Handle adding or removing an extra epithet"),registerOpened(function(){getSetAttrs([kExtraEpithetField,kPathosGivesTwoDiceField,"version"],function(t,e){t.version||performFirstTimeSetup(e),e.setAttrs({advantage_bond_support_translated:getTranslation("advantage_bond_support"),bonusdice_query:query("bonusdice_query",[0]),divine_favor_query:query("spend_divine_favor",[0]),divine_favor_translated:getTranslation("divine_favor"),name_translated:getTranslation("name"),target_query:query("target_number",[0]),version:"1.0"}),setEpithetQuery(t),setupDomainQueries(t)})},"Handle setting default attributes when opening the sheet");})();</script>
